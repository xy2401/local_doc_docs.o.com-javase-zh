<html lang="en-US" dir="ltr" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>建立连接（Java™教程&gt; JDBC（TM）数据库访问&gt; JDBC基础知识）</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
     <meta name="description" content="This JDBC Java tutorial describes how to use JDBC API to create, insert into, update, and query tables. You will also learn how to use simple and prepared statements, stored procedures and perform transactions"></meta>
     <meta name="keywords" content="java programming, learn java, java sample code, jdbc, prepared statement, result set"></meta>
        
<style type="text/css">body {
  margin-left: 10px;
  margin-right: 10px;
  line-height: 1.5;
  FONT-FAMILY: Arial,Helvetica,sans-serif;
  font-size: 0.8em;
}
a:link {
  text-decoration: none;
  color: #09569d;
}
a:visited {
  text-decoration: none;
  color: #3a87cf;
}
a:hover {
  text-decoration: underline;
}
code {
  font-family: Monaco,Courier,"Courier New";
}
.header-container {
  background-color: #fff;
  border-bottom: 1px solid #c1cfda;
  -webkit-box-shadow: 0 2px 2px rgba(117,163,231,0.1);
  box-shadow: 0 2px 2px rgba(117,163,231,0.1);
}
.bookwrapper {
  width: auto;
  margin: auto;
}
.clearfix {
}
.clearfloat {
  clear: both;
  overflow: auto;
  height: 0px;
  font-size: 1px;
  line-height: 0px;
}
#brandProdName {
  width: auto;
  height: auto;
}
#logocover {
  display: block;
  background: transparent url('../../images/oracle-java-logo.png') 0px 0px no-repeat;
  height: 50px;
  width: 229px;
  float: left;
}
#productName {
  font-size: 16px;
  position: relative;
  top: 19px;
  padding-left: 3px;
  color: #457798;
  white-space: nowrap;
  width: 340px;
}
.FigureCaption {
  font-family: sans-serif;
  text-align: center;
}
#TopBar_bl {
  width: 100%;
  height: 60px;
}
#TopBar_br {
  width: 100%;
  height: 60px;
}
#TopBar_tl {
  margin-left: -110px;
  margin-right: -100px;
  align: left;
  height: 60px;
}
#TopBar_tr {
  width: 100%;
  height: 60px;
}
#TopBar {
  min-width: 700px;
  padding: 25px 100px 10px;
  margin-bottom: 25px;
  clear: both;
  border-bottom: 1px solid #d2dde5;
  border-radius: 3px;
  background: #efefef;
  /* Old browsers */
  /* IE9 SVG, needs conditional override of 'filter' to 'none' */
  
  background: -moz-linear-gradient(top,#ffffff 0%,#e2eff9 100%);
  /* FF3.6+ */
  background: -webkit-gradient(linear,left top,left bottom,color-stop(0%,#ffffff),color-stop(100%,#e2eff9));
  /* Chrome,Safari4+ */
  background: -webkit-linear-gradient(top,#ffffff 0%,#e2eff9 100%);
  /* Chrome10+,Safari5.1+ */
  background: -o-linear-gradient(top,#ffffff 0%,#e2eff9 100%);
  /* Opera 11.10+ */
  background: -ms-linear-gradient(top,#ffffff 0%,#e2eff9 100%);
  /* IE10+ */
  background: linear-gradient(to bottom,#ffffff 0%,#e2eff9 100%);
  /* W3C */
  /* IE6-8 */
}
#TopBar_left {
  line-height: 14px;
  position: absolute;
  padding-top: 30px;
  padding-right: 30px;
  padding-left: 30px;
  text-align: left;
  font: 13px/20px Arial,Helvetica,sans-serif;
  font-weight: bold;
  font-size: 20px;
  color: #333;
}
#TopBar_right {
  line-height: 12px;
  float: right;
  padding-top: 10px;
  padding-right: 30px;
  text-align: left;
}
@media print {
  #BreadCrumbs, #Download {
    display: none;
  }
}
@media print {
  #TopBar_right {
    display: none;
  }
}
#TopBar_right a {
  font-size: 10px;
  margin: 3px;
  padding: 0;
}
#BreadCrumbs {
  padding: 15px 5px 0.5em 0;
  font-family: sans-serif;
  float: right;
}
#BreadCrumbs a {
  color: #09569d;
}
#BreadCrumbs a:visited, #BreadCrumbs a:link {
  text-decoration: none;
}
#BreadCrumbs a:hover, #BreadCrumbs a:active {
  text-decoration: underline;
}
#PageTitle {
  margin: 0 5px 0.5em 0;
  color: #f90000;
}
#PageContent {
  margin: 0 5px 0 20px;
}
.LeftBar_shown {
  width: 13em;
  float: left;
}
@media print {
  .LeftBar_shown {
    display: none;
  }
}
.LeftBar_hidden {
  display: none;
}
#Footer {
  padding-top: 10px;
  padding-left: 10px;
  margin-right: 10px;
}
.footertext {
  font-size: 10px;
  font-family: sans-serif;
  margin-top: 1px;
}
.NavBit {
  padding: 15px 5px 0.5em 0;
  font-family: sans-serif;
}
@media print {
  .NavBit {
    display: none;
  }
}
#TagNotes {
  text-align: right;
}
@media print {
  #TagNotes a:visited, #TagNotes a:link {
    color: #35556b;
    text-decoration: none;
  }
}
#Contents a, .NavBit a, #TagNotes a {
  color: #09569d;
}
#TagNotes a:visited, #TagNotes a:link, #Contents a:visited, #Contents a:link, .NavBit a:visited, .NavBit a:link {
  text-decoration: none;
}
#TagNotes a:hover, #TagNotes a:active, #Contents a:hover, #Contents a:active, .NavBit a:hover, .NavBit a:active {
  text-decoration: underline;
}
#Contents {
  float: left;
  font-family: sans-serif;
}
@media print {
  #Contents {
    display: none;
  }
}
@media screen {
  div.PrintHeaders {
    display: none;
  }
}
.linkLESSON, .nolinkLESSON {
  margin-left: 0.5em;
  text-indent: -0.5em;
}
.linkAHEAD, .nolinkAHEAD, .linkQUESTIONS, .nolinkQUESTIONS {
  margin-left: 1.5em;
  text-indent: -0.5em;
}
.linkBHEAD, .nolinkBHEAD {
  margin-left: 2.5em;
  text-indent: -0.5em;
}
.linkCHEAD, .nolinkCHEAD {
  margin-left: 3.5em;
  text-indent: -0.5em;
}
.nolinkLESSON, .nolinkAHEAD, .nolinkBHEAD, .nolinkCHEAD, .nolinkQUESTIONS {
  font-weight: bold;
  color: #333;
}
.MainFlow_indented {
  margin-right: 10px;
  margin-left: 15em;
  margin-bottom: 2em;
}
.MainFlow_wide {
  margin-right: 10px;
  margin-left: 10px;
  margin-bottom: 2em;
}
@media print {
  .MainFlow_indented, .MainFlow_wide {
    padding-top: 0;
    margin-top: 10px;
    margin-right: 10px;
    margin-left: 0;
  }
}
h1, h2, h3, h4, h5 {
  color: #333;
}
h1 {
  font-weight: bold;
  font-size: 20px;
}
h2 {
  font-weight: bold;
  font-size: 17px;
}
h3 {
  font-weight: bold;
  font-size: 14px;
}
h4 {
  font-size: 15px;
}
h5 {
  font-size: 12px;
}
#ToggleLeft {
  display: none;
}
.note {
  margin: 0 30px 0px 30px;
}
.codeblock {
  margin: 0 30px 0px 30px;
  font-size: 12px;
  font-family: Monaco,Courier,"Courier New";
}
.tocli {
  list-style-type: none;
}
.betadraft {
  color: red;
}
</style>
<script type="text/javascript">
/* <![CDATA[ */
    function leftBar() {
        var nameq = 'tutorial_showLeftBar='
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookieString = cookies[i];
            while (cookieString.charAt(0) == ' ') {
                cookieString = cookieString.substring(1, cookieString.length);
            }
            if (cookieString.indexOf(nameq) == 0) {
                cookieValue =  cookieString.substring(nameq.length,
                        cookieString.length);
                return cookieValue == 'yes';
            }
        }
        return true;
    }

    function showLeft(b) {
        var contents = document.getElementById("LeftBar");
        var main = document.getElementById("MainFlow");
        var toggle = document.getElementById("ToggleLeft");
        if (b) {
            contents.className = "LeftBar_shown";
            main.className = "MainFlow_indented";
            toggle.innerHTML = "Hide TOC";
            document.cookie = 'tutorial_showLeftBar=yes; path=/';
        } else {
            contents.className = "LeftBar_hidden";
            main.className = "MainFlow_wide";
            toggle.innerHTML = "Show the TOC";
            document.cookie = 'tutorial_showLeftBar=no; path=/';
        }
    }

    function toggleLeft() {
        showLeft(document.getElementById("LeftBar").className ==
                "LeftBar_hidden");
        document.getElementById("ToggleLeft").blur();
    }

    function load() {
        showLeft(leftBar());
        document.getElementById("ToggleLeft").style.display="inline";
    }

    function showCode(displayCodePage, codePath) {
        var codePathEls = codePath.split("/");
        var currDocPathEls = location.href.split("/");
        //alert ("codePathEls = " + codePathEls + "n" + "currDocPathEls = " + currDocPathEls);
        currDocPathEls.pop(); // remove file name at the end
        while (codePathEls.length > 0) {
            if (codePathEls[0] == "..") {
                codePathEls.shift();
                currDocPathEls.pop();
            } else {
                break;
            }
        }
        var fullCodePath = currDocPathEls.join("/") + "/" + codePathEls.join("/");
        //alert ("fullCodePath = " + fullCodePath );
        if (codePath.indexOf(".java") != -1 || codePath.indexOf(".jnlp") != -1) {
            window.location.href = displayCodePage + "?code=" + encodeURI(fullCodePath);
        } else {
            window.location.href = fullCodePath;
        }
    }
/* ]]> */    
</script>


    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body dir="ltr" onload="load()">
    <noscript>启用了JavaScript的浏览器需要此页面正常运行。
    </noscript>
        <!-- header -->
    <div class="header-container">
        <div class="bookwrapper  clearfix">       
            <div id="brandProdName">
                <div id="logocover"></div>
                <div id="productName">文档</div>
            </div> 
            <br class="clearfloat">
        </div>
    </div>
    
    <div id="TopBar">
        <div id="TopBar_tr">
            <div id="TopBar_tl">
                <div id="TopBar_br"> <div id="TopBar_bl"> 
                    <div id="TopBar_left">Java™教程</div>
                        <div id="TopBar_right"> 
                            <!--
                            <a href="URL" target="_blank">External Link</a><br/>
                            --> <a href="javascript:void(0);" id="ToggleLeft">隐藏TOC</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="LeftBar" class="LeftBar_shown">
        <div id="Contents">
            <div class="linkLESSON"><a href="index.html">JDBC基础知识</a></div>
<div class="linkAHEAD"><a href="gettingstarted.html">入门</a></div>
<div class="linkAHEAD"><a href="processingsqlstatements.html">使用JDBC处理SQL语句</a></div>
<div class="nolinkAHEAD">建立连接</div>
<div class="linkAHEAD"><a href="sqldatasources.html">连接数据源对象</a></div>
<div class="linkAHEAD"><a href="sqlexception.html">处理SQLExceptions</a></div>
<div class="linkAHEAD"><a href="tables.html">设置表</a></div>
<div class="linkAHEAD"><a href="retrieving.html">从结果集中检索和修改值</a></div>
<div class="linkAHEAD"><a href="prepared.html">使用准备好的陈述</a></div>
<div class="linkAHEAD"><a href="transactions.html">使用交易</a></div>
<div class="linkAHEAD"><a href="rowset.html">使用RowSet对象</a></div>
<div class="linkAHEAD"><a href="jdbcrowset.html">使用JdbcRowSet对象</a></div>
<div class="linkAHEAD"><a href="cachedrowset.html">使用CachedRowSetObjects</a></div>
<div class="linkAHEAD"><a href="joinrowset.html">使用JoinRowSet对象</a></div>
<div class="linkAHEAD"><a href="filteredrowset.html">使用FilteredRowSet对象</a></div>
<div class="linkAHEAD"><a href="webrowset.html">使用WebRowSet对象</a></div>
<div class="linkAHEAD"><a href="sqltypes.html">使用高级数据类型</a></div>
<div class="linkAHEAD"><a href="blob.html">使用大对象</a></div>
<div class="linkAHEAD"><a href="sqlxml.html">使用SQLXML对象</a></div>
<div class="linkAHEAD"><a href="array.html">使用数组对象</a></div>
<div class="linkAHEAD"><a href="distinct.html">使用DISTINCT数据类型</a></div>
<div class="linkAHEAD"><a href="sqlstructured.html">使用结构化对象</a></div>
<div class="linkAHEAD"><a href="sqlcustommapping.html">使用自定义类型映射</a></div>
<div class="linkAHEAD"><a href="sqldatalink.html">使用数据链接对象</a></div>
<div class="linkAHEAD"><a href="sqlrowid.html">使用RowId对象</a></div>
<div class="linkAHEAD"><a href="storedprocedures.html">使用存储过程</a></div>
<div class="linkAHEAD"><a href="jdbcswing.html">将JDBC与GUI API结合使用</a></div>
</div>
    </div>
    <div id="MainFlow" class="MainFlow_indented">
    <div class="PrintHeaders">
        <b>Trail：</b> JDBC（TM）数据库访问<br><b>课程：</b> JDBC基础知识</div>
            <div id="BreadCrumbs">
                <a href="../../index.html" target="_top">主页</a> &gt; <a href="../index.html" target="_top">JDBC（TM）数据库访问</a> &gt; <a href="index.html" target="_top">JDBC基础知识</a>
            </div>
            <div class="NavBit">
                <a href="processingsqlstatements.html" target="_top">«上一页</a> • <a href="../TOC.html" target="_top">小道</a> • <a href="sqldatasources.html" target="_top">下一页»</a>
            </div>
            <div class="Banner"><p style="background-color:rgb(247,248,249);border-width:1px;padding:10px;font-style:italic;border-style:solid;border-color:rgb(64,74,91)">Java教程是为JDK 8编写的。本页中描述的示例和实践未利用后续版本中引入的改进。</p></div>
            <div id="PageTitle"><h1>建立连接</h1></div>
            <div id="PageContent">

<p>首先，您需要与要使用的数据源建立连接。数据源可以是DBMS，遗留文件系统或具有相应JDBC驱动程序的一些其他数据源。通常，JDBC应用程序使用以下两个类之一连接到目标数据源：</p>
<ul>
<li>
<p><code>DriverManager</code> ：这个完全实现的类将应用程序连接到数据源，数据源由数据库URL指定。当此类首次尝试建立连接时，它会自动加载在类路径中找到的任何JDBC 4.0驱动程序。请注意，您的应用程序必须在4.0之前手动加载任何JDBC驱动程序。</p>
</li>
<li>
<p><code>DataSource</code> ：此接口优先于<code>DriverManager</code>因为它允许有关基础数据源的详细信息对您的应用程序透明。设置<code>DataSource</code>对象的属性，以便它表示特定的数据源。有关更多信息，请参阅<a href="sqldatasources.html">连接DataSource对象</a> 。有关使用<code>DataSource</code>类开发应用程序的更多信息，请参阅最新<em><a href="http://docs.oracle.com/javaee/6/tutorial/doc/">的Java EE教程</a></em> 。</p>
</li>
</ul>
<p><strong>注意</strong> ：本教程中的示例使用<code>DriverManager</code>类而不是<code>DataSource</code>类，因为它更易于使用，并且示例不需要<code>DataSource</code>类的功能。</p>
<p>此页面包含以下主题：</p>
<ul>
<li><a href="#drivermanager">使用DriverManager类</a></li>
<li><a href="#db_connection_url">指定数据库连接URL</a></li>
</ul>
<!-- *************************************** -->
<h2><a name="drivermanager" id="drivermanager">使用DriverManager类</a></h2>
<p>使用<code>DriverManager</code>类连接到DBMS涉及调用方法<code>DriverManager.getConnection</code> 。以下方法<code><a href="gettingstarted.html">JDBCTutorialUtilities.getConnection</a></code>建立数据库连接：</p>
<div class="codeblock"><pre>public Connection getConnection（）抛出SQLException {Connection conn = null;属性connectionProps = new Properties（）; connectionProps.put（“user”，this.userName）; connectionProps.put（“password”，this.password）; if（this.dbms.equals（“mysql”））{conn = DriverManager.getConnection（“jdbc：”+ this.dbms +“：//”+ this.serverName +“：”+ this.portNumber +“/” ，connectionProps）; } else if（this.dbms.equals（“derby”））{conn = DriverManager.getConnection（“jdbc：”+ this.dbms +“：”+ this.dbName +“; create = true”，connectionProps）; System.out.println（“连接到数据库”）;回报; }</pre></div>
<p>方法<code>DriverManager.getConnection</code>建立数据库连接。此方法需要数据库URL，具体取决于您的DBMS。以下是数据库URL的一些示例：</p>
<ol>
<li>
<p>MySQL： <code>jdbc:mysql://localhost:3306/</code> ，其中<code>localhost</code>是托管数据库的服务器的名称， <code>3306</code>是端口号</p>
</li>
<li>
<p>Java DB： <code>jdbc:derby: <em>testdb</em> ;create=true</code> ，其中<code><em>testdb</em></code>是要连接的数据库的名称， <code>create=true</code>指示DBMS创建数据库。</p>
<p><strong>注意</strong> ：此URL与Java DB Embedded Driver建立数据库连接。Java DB还包括一个网络客户端驱动程序，它使用不同的URL。</p>
</li>
</ol>
<p>此方法指定使用<code>Properties</code>对象访问DBMS所需的用户名和密码。</p>
<p><strong>注意</strong> ：</p>
<ul>
<li>
<p>通常，在数据库URL中，还可以指定要连接的现有数据库的名称。例如，URL <code>jdbc:mysql://localhost:3306/mysql</code>表示名为<code>mysql</code>的MySQL数据库的数据库URL。本教程中的示例使用未指定特定数据库的URL，因为示例创建了一个新数据库。</p>
</li>
<li>
<p>在以前的JDBC版本中，要获得连接，首先必须通过调用<code>Class.forName</code>方法来初始化JDBC驱动程序。此方法需要<code>java.sql.类型的对象<code>java.sql.Driver</code> 。每个JDBC驱动程序都包含一个或多个实现接口<code>java.sql.Driver</code> 。Java DB的驱动程序是<code>org.apache.derby.jdbc.EmbeddedDriver</code>和<code>org.apache.derby.jdbc.ClientDriver</code>和MySQL Connector / J的是<code>com.mysql.jdbc.Driver</code> 。请参阅DBMS驱动程序的文档以获取实现接口<code>java.sql.的类的名称<code>java.sql.Driver</code> 。</p>
<p>在类路径中找到的任何JDBC 4.0驱动程序都会自动加载。（但是，必须使用方法<code>Class.forName</code>手动加载JDBC 4.0之前的任何驱动程序。）</p>
</li>
</ul>
<p>该方法返回一个<code>Connection</code>对象，该对象表示与DBMS或特定数据库的连接。通过此对象查询数据库。</p>
<!-- *************************************** -->
<h2><a name="db_connection_url" id="db_connection_url">指定数据库连接URL</a></h2>
<p>数据库连接URL是DBMS JDBC驱动程序用于连接数据库的字符串。它可以包含诸如搜索数据库的位置，要连接的数据库的名称以及配置属性等信息。数据库连接URL的确切语法由DBMS指定。</p>
<h3>Java DB数据库连接URL</h3>
<p>以下是Java DB的数据库连接URL语法：</p>
<div class="codeblock"><pre>jdbc：derby：[ <em>subsubprotocol</em> ：] [ <em>databaseName</em> ] [; <em>attribute</em> = <em>value</em> ] *</pre></div>
<ul>
<li><code><em>subsubprotocol</em></code>指定Java DB在目录，内存，类路径或JAR文件中搜索数据库的位置。通常省略它。</li>
<li><code><em>databaseName</em></code>是要连接的数据库的名称。</li>
<li><code><em>attribute</em> = <em>value</em></code>表示可选的，以分号分隔的属性列表。这些属性使您可以指示Java DB执行各种任务，包括以下内容：<ul>
<li>创建连接URL中指定的数据库。</li>
<li>加密连接URL中指定的数据库。</li>
<li>指定存储日志记录和跟踪信息的目录。</li>
<li>指定用于连接数据库的用户名和密码。</li>
</ul>
</li>
</ul>
<p>有关详细信息，请参阅<em>Java DB</em> <a href="http://docs.oracle.com/javadb/index_jdk8.html">技术文档中的</a> <em>Java DB Developer's Guide</em>和<em>Java DB Reference Manual</em> 。</p>
<h3>MySQL Connector / J数据库URL</h3>
<p>以下是MySQL Connector / J的数据库连接URL语法：</p>
<div class="codeblock"><pre>jdbc：mysql：// [ <em>host</em> ] [， <em>failoverhost</em> ...][： <em>port</em> ] / [ <em>数据库</em> ] [？<em>propertyName1</em> ] [= <em>propertyValue1</em> ] [＆ <em>propertyName2</em> ] [= <em>propertyValue2</em> ] ...
</pre></div>
<ul>
<li><code><em>host</em> : <em>port</em></code>是托管数据库的计算机的主机名和端口号。如果未指定，则<code><em>host</em></code>和<code><em>port</em></code>的默认值分别为127.0.0.1和3306。</li>
<li><code><em>database</em></code>是要连接的数据库的名称。如果未指定，则建立连接而不使用默认数据库。</li>
<li><code><em>failover</em></code>是备用数据库的名称（MySQL Connector / J支持故障转移）。</li>
<li><code><em>propertyName</em> = <em>propertyValue</em></code>表示一个可选的＆符号分隔的属性列表。这些属性使您可以指示MySQL Connector / J执行各种任务。</li>
</ul>
<p>有关更多信息，请参阅<a href="http://dev.mysql.com/doc/"><em>MySQL参考手册</em></a> 。</p>


        </div>
        <div class="NavBit">
            <a href="processingsqlstatements.html" target="_top">«上一页</a> • <a href="../TOC.html" target="_top">小道</a> • <a href="sqldatasources.html" target="_top">下一页»</a>
        </div>
    </div>
    
<hr class="clearfloat">

<div id="Footer">

<p class="footertext">
<a href="http://www.oracle.com/corporate/index.html">关于Oracle</a> | <a href="http://www.oracle.com/us/corporate/contact/index.html">联系我们</a> | <a href="http://www.oracle.com/us/legal/index.html">法律声明</a> | <a href="http://www.oracle.com/us/legal/terms/index.html">使用条款</a> | <a href="http://www.oracle.com/us/legal/privacy/index.html">您的隐私权</a></p>

<p class="footertext"><a href="http://www.oracle.com/pls/topic/lookup?ctx=cpyr&amp;id=en-US">版权所有©1995,2017 Oracle和/或其附属公司。版权所有。</a></p>
       
</div>    
    <div class="PrintHeaders">
        <b>上一页：</b>使用JDBC处理SQL语句<br><b>下一页：</b>与DataSource对象连接</div>
<!-- Start SiteCatalyst code -->
<script type="application/javascript" src="https://www.oracleimg.com/us/assets/metrics/ora_docs.js"></script>
<!-- End SiteCatalyst code --> 
</body>
</html>